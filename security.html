<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Security — Setfeed</title>
  <meta name="description" content="Setfeed security model, encryption boundaries, and responsible disclosure policy." />

  <meta name="theme-color" content="#FFFBFE" id="meta-theme-color" />

  <link rel="icon" href="./favicon.ico" sizes="any">
  <link rel="icon" type="image/png" href="./favicon-32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="./favicon-16.png" sizes="16x16">
  <link rel="apple-touch-icon" href="./apple-touch-icon.png" sizes="180x180">

  <link rel="stylesheet" href="./styles.css" />

  <script>
    (function(){
      const themeKey = "sf_theme_mode"; // "system" | "light" | "dark"
      const stored = localStorage.getItem(themeKey) || "system";
      const root = document.documentElement;

      if (stored === "light" || stored === "dark") root.setAttribute("data-theme", stored);
      else root.removeAttribute("data-theme");

      const effective =
        root.getAttribute("data-theme") ||
        (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");

      const meta = document.getElementById("meta-theme-color");
      if (meta) meta.content = (effective === "dark") ? "#0F1114" : "#FFFBFE";

      function applyAuthVisibility(){
        const authed = localStorage.getItem("sf_signed_authed") === "true";
        document.querySelectorAll(".auth-only").forEach(el => {
          el.classList.toggle("hidden", !authed);
        });
      }

      document.addEventListener("DOMContentLoaded", applyAuthVisibility);

      window.addEventListener("storage", (e) => {
        if (e && e.key === "sf_signed_authed") applyAuthVisibility();
      });
    })();
  </script>
</head>

<body class="page-bg">
  <header class="site-header">
    <div class="header-inner">
      <a class="brand-mark" href="./" aria-label="Setfeed home">
        <img class="logo" src="./logo.png" alt="" aria-hidden="true" />
      </a>

      <a class="brand-title" href="./">Setfeed</a>

      <nav class="nav" aria-label="Primary">
        <a href="./">Home</a>
        <a href="./send.html">Send</a>
        <a href="./receive.html">Receive</a>
        <a class="auth-only hidden" href="./inbox.html">Inbox</a>
        <a href="./security.html" aria-current="page">Security</a>
        <a href="./privacy.html">Privacy</a>
        <a class="nav-cta" href="#" aria-label="Download Setfeed app">Download app</a>
      </nav>
    </div>
  </header>

  <div class="wrap">
    <div class="card">
      <h1>Security</h1>
      <p class="lead">Effective date: <strong>2026-02-15</strong></p>

      <p>
        Setfeed is designed so message content does not need to be readable by Setfeed servers.
        When encrypted delivery is used, the web bridge (<strong>setfeed.app</strong>) acts as a ciphertext transport layer.
      </p>

      <div class="note">
        <p style="margin:0;">
          Responsible disclosure: <a href="mailto:security@setfeed.app">security@setfeed.app</a>
        </p>
      </div>

      <h2>Threat model (plain language)</h2>
      <ul>
        <li><strong>Setfeed servers should not learn message contents</strong> when end-to-end encryption is used.</li>
        <li><strong>Attackers may try to abuse the bridge</strong> (spam, scraping, automation), so we use integrity checks and rate controls.</li>
        <li><strong>Your device matters:</strong> if a recipient device is compromised, content could be exposed there (as with any secure messenger).</li>
      </ul>

      <h2>Encryption boundary</h2>
      <p>
        Messages sent through setfeed.app are encrypted in your browser before they reach our servers.
        When encrypted delivery is used, Setfeed stores and transports only encrypted ciphertext (plus required cryptographic metadata such as IV and salt).
      </p>

      <h3>What Setfeed can and cannot see</h3>
      <ul>
        <li><strong>Cannot read:</strong> encrypted message content (ciphertext remains opaque to Setfeed).</li>
        <li><strong>Can process:</strong> delivery metadata required to deliver an envelope and enforce one-time consumption.</li>
        <li><strong>May see:</strong> operational/security logs from infrastructure (e.g., IP address and request metadata) for reliability and abuse prevention.</li>
      </ul>

      <h2>Keys</h2>
      <p>
        Private encryption keys are stored only on recipient devices and are never intentionally uploaded to Setfeed servers.
        This is an explicit boundary: the system is built so Setfeed does not need access to your private keys to deliver encrypted envelopes.
      </p>

      <h2>Attachments (images)</h2>
      <p>
        When image attachments are supported for a message flow, Setfeed stores encrypted attachment bytes and delivers them alongside the encrypted envelope.
        Attachments are intended to follow the same boundary as message text: encrypted client-side, stored as ciphertext-only, and decrypted on the recipient device.
      </p>

      <h2>Integrity and abuse prevention</h2>
      <p>
        To reduce automated abuse, Setfeed can use Firebase App Check. On Android, App Check can use Play Integrity;
        on the web bridge it can use reCAPTCHA. These systems may process signals and tokens that help verify requests come from an authentic
        app/browser environment.
      </p>
      <ul>
        <li><strong>App Check / Integrity tokens:</strong> short-lived attestation tokens.</li>
        <li><strong>Basic device/app signals:</strong> required for integrity verification (handled by Google’s services).</li>
      </ul>

      <h2>Backend protections</h2>
      <ul>
        <li><strong>Transport security:</strong> HTTPS for data in transit.</li>
        <li><strong>Access controls:</strong> server-side authorization checks and Firebase security controls.</li>
        <li><strong>Replay protection:</strong> delivery state enforces one-time consumption where applicable.</li>
        <li><strong>Rate limits / constraints:</strong> conservative caps to reduce abuse and accidental overload.</li>
      </ul>

      <h2>Reporting a vulnerability</h2>
      <p>
        If you believe you’ve found a security issue, email
        <a href="mailto:security@setfeed.app">security@setfeed.app</a>.
        Please include steps to reproduce, impact, and (if possible) a minimal proof of concept.
      </p>
      <ul>
        <li>Please do not publicly disclose until we’ve had a chance to investigate and mitigate.</li>
        <li>Please avoid accessing data that isn’t yours, and avoid service disruption.</li>
      </ul>

      <h2>Changes to this page</h2>
      <p>
        If we change this page, we will update the effective date above and publish the updated version here.
      </p>

      <footer>
        <div>© <span id="y"></span> Setfeed</div>
        <div>
          <a href="./privacy.html">Privacy</a>
          <span class="sep">·</span>
          <a href="mailto:security@setfeed.app">security@setfeed.app</a>
        </div>
      </footer>
    </div>
  </div>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();
  </script>
</body>
</html>
