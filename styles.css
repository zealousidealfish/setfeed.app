/* styles.css (Setfeed) — FULL FILE REPLACEMENT
   Goals:
   - ✅ Default to LIGHT (never auto-dark from system unless data-theme="dark" is set)
   - ✅ Light theme matches app “Private session” look:
       - calm off-white background (no yellow/pink cast)
       - sections/cards use the same “nice grey” as the Private session card
       - headings less bold (more professional)
       - reduce glow/gradients that tint the page
   - ✅ Dark theme unchanged
*/

/* =========================
   TOKENS
   ========================= */

:root{
  /* LIGHT DEFAULT (app-like) */
  --bg: #EEF3F6;              /* calm off-white/blue-grey like app background */
  --surface: #EEF3F6;

  /* The “Private session” card grey vibe */
  --surface-variant: #DCE4EA; /* primary card/section grey */
  --surface-2: #E4EBF0;       /* slightly lighter secondary surface */
  --surface-1: #F3F7FA;       /* input/inner elevated surface (soft, not white) */

  --line: rgba(15,23,32,0.10);

  --text: rgba(15,23,32,0.92);
  --muted: rgba(48,58,70,0.78);
  --soft: rgba(48,58,70,0.62);

  --primary: #4C8DFF;
  --on-primary: #FFFFFF;
  --primary-soft: rgba(76,141,255,0.14);

  --secondary: #5F5A6A;
  --on-secondary: #FFFFFF;
  --secondary-soft: rgba(95,90,106,0.14);

  --danger: #B3261E;
  --good: #0F7B3D;

  --s-1: 8px;
  --s-2: 12px;
  --s-3: 16px;
  --s-4: 20px;
  --s-5: 26px;
  --s-6: 34px;
  --s-7: 44px;
  --s-8: 58px;

  --radius-1: 12px;
  --radius-2: 16px;
  --radius-3: 20px;

  --max: 980px;

  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;

  /* Less-bold typography (more like the app) */
  --fw-regular: 420;
  --fw-medium: 520;
  --fw-bold: 620;
}

/* ✅ Do NOT auto-dark on system preference. */
@media (prefers-color-scheme: dark){
  :root:not([data-theme="light"]):not([data-theme="dark"]){
    /* Intentionally empty: default remains light. */
  }
}

/* Explicit LIGHT */
:root[data-theme="light"]{
  --bg: #EEF3F6;
  --surface: #EEF3F6;
  --surface-variant: #DCE4EA;
  --surface-2: #E4EBF0;
  --surface-1: #F3F7FA;

  --line: rgba(15,23,32,0.10);

  --text: rgba(15,23,32,0.92);
  --muted: rgba(48,58,70,0.78);
  --soft: rgba(48,58,70,0.62);

  --primary: #4C8DFF;
  --on-primary: #FFFFFF;
  --primary-soft: rgba(76,141,255,0.14);

  --secondary: #5F5A6A;
  --on-secondary: #FFFFFF;
  --secondary-soft: rgba(95,90,106,0.14);

  --danger: #B3261E;
  --good: #0F7B3D;
}

/* Explicit DARK (UNCHANGED) */
:root[data-theme="dark"]{
  --bg: #0F1114;
  --surface: #0F1114;
  --surface-1: #0F1114;
  --surface-2: #12151A;
  --surface-variant: #1A1D22;
  --line: rgba(255,255,255,0.12);

  --text: rgba(255,255,255,0.92);
  --muted: rgba(203,208,216,0.86);
  --soft: rgba(203,208,216,0.68);

  --primary: #3F7BFF;
  --on-primary: #FFFFFF;
  --primary-soft: rgba(63,123,255,0.20);

  --secondary: #2B2F36;
  --on-secondary: rgba(255,255,255,0.92);
  --secondary-soft: rgba(180,190,210,0.12);

  --danger: #F2B8B5;
  --good: #86EFAC;
}

/* =========================
   BASE
   ========================= */

*{ box-sizing: border-box; }

html, body{
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--text);
  font-family: var(--font);
  font-weight: var(--fw-regular);
}

strong, b{ font-weight: var(--fw-bold); }

a{ color: var(--primary); text-decoration: none; }
a:hover{ text-decoration: underline; }

a:focus-visible,
button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible,
[role="button"]:focus-visible{
  outline: 3px solid color-mix(in srgb, var(--primary) 45%, transparent);
  outline-offset: 2px;
}

::selection{ background: var(--primary-soft); }

/* ✅ Remove tinty/pinky glow: keep very neutral, very subtle texture */
.page-bg{
  min-height: 100vh;
  background:
    radial-gradient(900px 560px at 20% -15%,
      rgba(76,141,255,0.035) 0%,
      transparent 58%),
    radial-gradient(760px 520px at 90% 0%,
      rgba(15,23,32,0.035) 0%,
      transparent 60%),
    linear-gradient(180deg,
      rgba(255,255,255,0.08) 0%,
      rgba(255,255,255,0.00) 32%);
}
:root[data-theme="dark"] .page-bg{
  background:
    radial-gradient(900px 520px at 18% -10%,
      color-mix(in srgb, var(--primary) 6%, transparent) 0%,
      transparent 56%),
    radial-gradient(700px 460px at 85% 0%,
      rgba(255,255,255,0.045) 0%,
      transparent 62%),
    linear-gradient(180deg,
      rgba(255,255,255,0.022) 0%,
      rgba(255,255,255,0.00) 28%);
}

.wrap{
  max-width: var(--max);
  margin: 0 auto;
  padding: var(--s-6) var(--s-4) var(--s-8);
}

/* =========================
   HEADER
   ========================= */

.site-header{
  position: sticky;
  top: 0;
  z-index: 20;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  background: color-mix(in srgb, var(--bg) 88%, transparent);
  border-bottom: 1px solid var(--line);
}

.header-inner{
  max-width: var(--max);
  margin: 0 auto;
  padding: 12px var(--s-4);
  display: grid;
  grid-template-columns: 44px 1fr auto;
  align-items: center;
  gap: var(--s-3);
}

.brand-mark{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: transparent;
}
.brand-mark:hover{
  background: color-mix(in srgb, var(--surface-variant) 22%, transparent);
  text-decoration: none;
}

/* Logo (no halo) */
.logo{
  width: 36px;
  height: 36px;
  display: block;
  object-fit: contain;
  background: transparent;
  border-radius: 0;
  filter: none;
}

.brand-title{
  justify-self: center;
  color: var(--text);
  text-decoration: none;
  letter-spacing: -0.12px;
  font-weight: var(--fw-medium);
  font-size: 14.4px;
  line-height: 1;
  padding: 8px 10px;
  border-radius: 999px;
  opacity: 0.88;
}
.brand-title:hover{
  background: color-mix(in srgb, var(--surface-variant) 26%, transparent);
  text-decoration: none;
  opacity: 1;
}

.nav{
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: flex-end;
  align-items: center;
}
.nav a{
  color: var(--soft);
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid transparent;
  font-size: 13.5px;
}
.nav a:hover{
  background: color-mix(in srgb, var(--surface-variant) 30%, transparent);
  color: var(--text);
  text-decoration: none;
}
.nav a[aria-current="page"]{
  color: var(--text);
  background: color-mix(in srgb, var(--surface-variant) 40%, transparent);
  border-color: var(--line);
}

.nav a.nav-cta{
  background: color-mix(in srgb, var(--primary) 12%, var(--surface-variant));
  border: 1px solid color-mix(in srgb, var(--primary) 22%, var(--line));
  color: var(--text);
}
.nav a.nav-cta:hover{
  background: color-mix(in srgb, var(--primary) 16%, var(--surface-variant));
}

@media (max-width: 720px){
  .header-inner{
    grid-template-columns: 44px 1fr;
    grid-template-rows: auto auto;
  }
  .brand-title{
    justify-self: start;
    padding-left: 0;
    background: transparent;
  }
  .nav{
    grid-column: 1 / -1;
    justify-content: flex-start;
    padding-top: 6px;
  }
}

/* =========================
   CARD / TYPOGRAPHY
   ========================= */

/* Main “page card” should feel like the app’s grey surface */
.card{
  margin-top: var(--s-5);
  background: var(--surface-variant);
  border: 1px solid var(--line);
  border-radius: var(--radius-3);
  padding: var(--s-6);
  box-shadow:
    0 1px 0 rgba(255,255,255,0.22) inset,
    0 18px 46px rgba(15,23,32,0.08);
}
:root[data-theme="dark"] .card{
  background: color-mix(in srgb, var(--surface-2) 86%, transparent);
  box-shadow:
    0 1px 0 rgba(255,255,255,0.045) inset,
    0 16px 36px rgba(0,0,0,0.28);
}

/* Headings less bold + slightly tighter like the app */
h1{
  margin: 0 0 var(--s-2) 0;
  font-size: 28px;
  letter-spacing: -0.42px;
  line-height: 1.14;
  font-weight: var(--fw-medium); /* ✅ less bold */
}
.lead{
  margin: 0 0 var(--s-4) 0;
  color: var(--muted);
  font-size: 14.9px;
  line-height: 1.72;
  max-width: 72ch;
}
h2{
  margin: var(--s-6) 0 var(--s-2) 0;
  font-size: 14.6px;
  letter-spacing: -0.06px;
  font-weight: var(--fw-medium); /* ✅ less bold */
}
p, li, label{
  color: var(--muted);
  line-height: 1.72;
  font-size: 14.5px;
}
ul{ margin: 0 0 0 18px; padding: 0; }

/* Layout */
.row{
  display: flex;
  gap: var(--s-4);
  flex-wrap: wrap;
  margin-top: var(--s-4);
}
.col{
  flex: 1 1 320px;
  min-width: 320px;
}
@media (max-width: 720px){
  .col{ min-width: 100%; }
}

/* =========================
   TABS / CHIPS
   ========================= */

.tabs{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: var(--s-4);
}
.tab{
  appearance: none;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--surface-2) 70%, transparent);
  color: var(--soft);
  border-radius: 999px;
  padding: 9px 12px;
  cursor: pointer;
  user-select: none;
  font-size: 13.4px;
}
.tab:hover{
  background: color-mix(in srgb, var(--surface-2) 86%, transparent);
  color: var(--text);
}
.tab[aria-selected="true"]{
  background: var(--primary-soft);
  color: var(--text);
  border-color: color-mix(in srgb, var(--primary) 34%, var(--line));
}

.chips{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: var(--s-3);
}
.chip{
  appearance: none;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--surface-2) 70%, transparent);
  color: var(--soft);
  border-radius: 999px;
  padding: 9px 12px;
  cursor: pointer;
  user-select: none;
  font-size: 13.4px;
}
.chip:hover{
  background: color-mix(in srgb, var(--surface-2) 86%, transparent);
  color: var(--text);
}
.chip[aria-pressed="true"]{
  background: color-mix(in srgb, var(--primary) 16%, var(--surface-2));
  color: var(--text);
  border-color: color-mix(in srgb, var(--primary) 40%, var(--line));
}

/* =========================
   BUTTONS
   ========================= */

.actions{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: var(--s-3);
  align-items: center;
}
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--surface-2) 72%, transparent);
  color: var(--text);
  font-size: 14px;
  text-decoration: none;
  cursor: pointer;
  user-select: none;
  transition: background 120ms ease, transform 80ms ease, box-shadow 120ms ease, border-color 120ms ease;
}
.btn:hover{
  background: color-mix(in srgb, var(--surface-2) 88%, transparent);
  text-decoration: none;
}
.btn:active{ transform: translateY(0.5px); }
.btn:disabled{ cursor: not-allowed; transform: none; opacity: 0.60; box-shadow: none; }

.btn-lg{
  padding: 12px 18px;
  font-size: 14.2px;
  min-height: 44px;
  line-height: 1.2;
}

.btn-primary{
  background: var(--primary);
  color: var(--on-primary);
  border-color: color-mix(in srgb, var(--primary) 58%, var(--line));
  box-shadow: 0 12px 26px rgba(15,23,32,0.12);
}
.btn-primary:hover{ background: color-mix(in srgb, var(--primary) 92%, white); }
:root[data-theme="dark"] .btn-primary:hover{ background: color-mix(in srgb, var(--primary) 90%, black); }
.btn-primary:disabled{
  background: color-mix(in srgb, var(--primary) 24%, var(--surface-variant));
  border-color: color-mix(in srgb, var(--primary) 22%, var(--line));
  color: color-mix(in srgb, var(--on-primary) 72%, transparent);
}

.btn-secondary{
  background: color-mix(in srgb, var(--primary) 12%, var(--surface-2));
  color: var(--text);
  border-color: color-mix(in srgb, var(--primary) 22%, var(--line));
}
.btn-secondary:hover{ background: color-mix(in srgb, var(--primary) 16%, var(--surface-2)); }

.btn-quiet{ background: color-mix(in srgb, var(--surface-2) 62%, transparent); }
.btn-quiet:hover{ background: color-mix(in srgb, var(--surface-2) 80%, transparent); }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *, *::before, *::after{
    animation: none !important;
    transition-duration: 0.01ms !important;
    transition-delay: 0ms !important;
    scroll-behavior: auto !important;
  }
}

/* =========================
   FORMS
   ========================= */

.field{
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: var(--s-3);
}
label{ color: var(--soft); font-size: 13.1px; }

input, textarea, select{
  width: 100%;
  border-radius: var(--radius-1);
  border: 1px solid var(--line);
  background: var(--surface-1);
  color: var(--text);
  padding: 10px 12px;
  font-size: 14.5px;
  font-family: var(--font);
  outline: none;
}
textarea{ min-height: 120px; resize: vertical; }

input:focus, textarea:focus, select:focus{
  border-color: color-mix(in srgb, var(--primary) 56%, var(--line));
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 12%, transparent);
}

small.help{
  display: block;
  color: var(--soft);
  margin-top: 10px;
  line-height: 1.55;
  font-size: 13.1px;
}

/* =========================
   PANELS / STATUS (sections)
   ========================= */

/* ✅ Sections should match the “Private session” grey */
.panel{
  border-radius: var(--radius-2);
  border: 1px solid var(--line);
  background: var(--surface-variant);
  padding: var(--s-5);
}
.panel-title{
  margin: 0 0 8px 0;
  font-size: 13.8px;
  letter-spacing: -0.05px;
  font-weight: var(--fw-medium); /* ✅ less bold */
  color: var(--text);
}
.panel-sub{ margin: 0 0 var(--s-4) 0; color: var(--muted); }

.note{
  border-left: 3px solid color-mix(in srgb, var(--primary) 34%, transparent);
  padding-left: 12px;
  margin-top: var(--s-4);
}

.status{
  margin-top: var(--s-4);
  border-radius: var(--radius-2);
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--surface-variant) 86%, var(--surface-2));
  padding: 12px;
}
.status-title{
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 6px;
  color: var(--text);
  font-size: 14px;
  letter-spacing: -0.06px;
  font-weight: var(--fw-medium); /* ✅ less bold */
}
.status-line{ color: var(--muted); font-size: 14px; line-height: 1.6; margin: 0; }

/* Dots */
.dot{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--soft) 72%, transparent);
}
.dot.good{ background: var(--good); }
.dot.warn{ background: color-mix(in srgb, var(--danger) 78%, #D67A7A); }

/* =========================
   VIDEO
   ========================= */

.video-card{
  margin-top: var(--s-6);
  border-radius: var(--radius-3);
  border: 1px solid var(--line);
  background: var(--surface-variant);
  padding: var(--s-5);
}
:root[data-theme="dark"] .video-card{
  background: color-mix(in srgb, var(--surface-2) 78%, transparent);
}
.video-frame{
  margin-top: var(--s-4);
  border-radius: var(--radius-2);
  overflow: hidden;
  border: 1px solid var(--line);
  background: var(--surface-1);
}
.video-frame video{ width: 100%; height: auto; display: block; }

/* =========================
   FOOTER
   ========================= */

footer{
  margin-top: var(--s-6);
  color: var(--soft);
  font-size: 13px;
  display: flex;
  gap: 12px;
  justify-content: space-between;
  align-items: center;
  border-top: 1px solid var(--line);
  padding-top: var(--s-4);
  flex-wrap: wrap;
}
footer a{ color: var(--soft); }
footer a:hover{ color: var(--text); text-decoration: none; }
.sep{ color: var(--soft); }

.hidden{ display: none !important; }

/* =========================
   SIGNED UI EXTRAS
   ========================= */

.sf-subhead{
  margin-top: 0;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--surface-variant) 88%, var(--surface-2));
  color: var(--text);
  font-weight: var(--fw-medium); /* ✅ less bold */
  font-size: 13.5px;
  letter-spacing: -0.05px;
}

/* Signed-in banner (send.html) */
.sf-auth-banner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 10px 12px;
  margin-top: 12px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: var(--surface-variant);
}
.sf-auth-left{
  min-width: 0;
  display:flex;
  align-items:center;
  gap: 10px;
}
.sf-auth-email{
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 14px;
  color: color-mix(in srgb, var(--text) 82%, transparent);
}
.sf-auth-actions{
  display:flex;
  align-items:center;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}
@media (max-width: 520px){
  .sf-auth-banner{
    flex-direction: column;
    align-items: stretch;
  }
  .sf-auth-actions{ justify-content: stretch; }
  .sf-auth-actions .btn{ width: 100%; }
  .sf-auth-email{
    white-space: normal;
    overflow: visible;
    text-overflow: clip;
  }
}

/* Image preview card */
.sf-pulse-image-card{
  border-radius: var(--radius-3);
  border: 1px solid var(--line);
  background: var(--surface-variant);
  padding: var(--s-5);
  margin-top: var(--s-3);
}
.sf-pulse-image-head{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 10px;
}
.sf-preview{
  margin-top: 12px;
  border-radius: var(--radius-2);
  border: 1px solid var(--line);
  background: var(--surface-1);
  overflow:hidden;
  height: 220px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.sf-preview-empty{
  color: var(--soft);
  font-size: 13px;
  padding: 12px;
}
.sf-preview-img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display:block;
}
